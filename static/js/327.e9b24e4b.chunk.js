"use strict";(self.webpackChunkservice_auto_rental_new1=self.webpackChunkservice_auto_rental_new1||[]).push([[327],{327:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(413),a=t(433),i=t(861),o=t(439),c=t(757),s=t.n(c),l=t(791),u=t(218),p=t(294);p.Z.defaults.baseURL="https://6574665df941bda3f2afb2f5.mockapi.io/api/v1/";var f,h,x,d,g,m,v,k=function(){var e=(0,i.Z)(s().mark((function e(){var n,t,r,a,i,o,c,l=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:1,t=l.length>1?l[1]:void 0,e.prev=2,e.next=5,p.Z.get("/data-auto");case 5:return r=e.sent,console.log("fetchHome - filters",t),a=r.data,console.log("fetchHome - filteredCars",a),""!==t.make&&(console.log("fetchHome - filters.make",t.make),a=a.filter((function(e){return e.make===t.make})),console.log("fetchHome - filteredCars",a)),""!==t.price&&(a=a.filter((function(e){return parseInt(e.rentalPrice.replace(/\D/g,""),10)<=t.price}))),null!==t.minMileage&&(a=a.filter((function(e){return Number(e.mileage)>=Number(t.minMileage)}))),null!==t.maxMileage&&(a=a.filter((function(e){return Number(e.mileage)<=Number(t.maxMileage)}))),i=(n-1)*t.perPage,o=i+t.perPage,c=a.slice(i,o),e.abrupt("return",c);case 19:throw e.prev=19,e.t0=e.catch(2),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445:",e.t0),e.t0;case 23:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(){return e.apply(this,arguments)}}(),Z=t(168),b=t(924),j=b.ZP.ul(f||(f=(0,Z.Z)([" \n  display: flex;\n  align-items: center;\n  justify-content: center;\n  column-gap: 29px;\n  row-gap: 50px;\n  flex-wrap: wrap;\n  margin: 50px 0 100px;\n"]))),w=b.ZP.li(h||(h=(0,Z.Z)(["\n  display: block;\n  padding: 10px, 15px;\n  font-family: Roboto sans-serif;\n  font-size: 22px;\n  font-weight: 700;\n  color: rgb(106 162 144);\n"]))),M=b.ZP.span(x||(x=(0,Z.Z)(["\n  color: var(--pr-button-background-color);\n  font-size: 16px;\n\n  &:hover,\n  :focus {\n    color: var(--hovered-button-background-color);\n  }\n"]))),P=t(184),y=function(e){var n=e.items,t=e.openModal;return(0,P.jsx)(j,{children:n.map((function(e,n){var r=e.id,a=e.make,i=e.model,o=e.img;return(0,P.jsx)(w,{children:(0,P.jsxs)("div",{onClick:function(){return t(n)},children:[(0,P.jsxs)(M,{children:[a," ",i]}),(0,P.jsx)("div",{children:(0,P.jsx)("img",{src:o,width:"200",height:"250",alt:"car"})}),(0,P.jsxs)(M,{children:[a," ",i]})]})},r)}))})},C=t(554),S=b.ZP.div(d||(d=(0,Z.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n"]))),_=b.ZP.div(g||(g=(0,Z.Z)(["\n  background: #fff;\n  padding: 20px;\n  border-radius: 8px;\n  position: relative;\n  z-index: 1001;\n  max-width: 900px;\n  width: 100%;\n  text-align: center;\n\n  img {\n    max-width: 100%;\n    max-height: 100%;\n    object-fit: contain;\n  }\n"]))),z=b.ZP.span(m||(m=(0,Z.Z)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  cursor: pointer;\n  font-size: 20px;\n  color: #333;\n"]))),E=b.ZP.img(v||(v=(0,Z.Z)(["\n  max-width: 100%;\n  max-height: 100%;\n  object-fit: contain;\n  width: 600px;\n  height: 400px;\n  margin: auto;\n  display: block;\n"]))),H=function(e){var n=e.item,t=e.closeModal;return(0,l.useEffect)((function(){var e;e=n.img,(new Image).src=e}),[n.img]),(0,P.jsx)(S,{children:(0,P.jsxs)(_,{children:[(0,P.jsx)(z,{onClick:t,children:"\xd7"}),(0,P.jsxs)("h2",{children:[n.make," ",n.model]}),(0,P.jsx)(E,{src:n.img,alt:"car"}),(0,P.jsxs)("p",{children:["Description: ",n.description]})]})})},N=function(){var e=(0,l.useState)([]),n=(0,o.Z)(e,2),t=n[0],c=n[1],p=(0,l.useState)(!1),f=(0,o.Z)(p,2),h=f[0],x=f[1],d=(0,l.useState)(1),g=(0,o.Z)(d,2),m=g[0],v=g[1],Z=(0,l.useState)(!1),b=(0,o.Z)(Z,2),j=b[0],w=b[1],M=(0,l.useState)(!1),S=(0,o.Z)(M,2),_=S[0],z=S[1],E=(0,l.useState)(null),N=(0,o.Z)(E,2),D=N[0],F=N[1],I=(0,l.useState)({make:"",price:"",minMileage:null,maxMileage:null,perPage:12}),L=(0,o.Z)(I,2),R=L[0],O=L[1],T=(0,l.useState)([]),U=(0,o.Z)(T,2),q=U[0],A=U[1];(0,l.useEffect)((function(){console.log("Fetching makes...");var e=function(){var e=(0,i.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/path/to/makes.json");case 3:return n=e.sent,e.next=6,n.json();case 6:t=e.sent,A(t.makes),console.log("Makes loaded:",t.makes),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching makes:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var B=function(){var e=(0,i.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,k(m+1,R);case 4:0===(n=e.sent).length?w(!0):(c((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(n))})),v((function(e){return e+1}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u.ZP.error(e.t0);case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,i.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,k(1,R);case 4:n=e.sent,c(n),v(1),w(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),u.ZP.error(e.t0);case 13:return e.prev=13,x(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),J=(0,l.useCallback)((0,i.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,console.log("getMovies - filters ",{filters:R}),e.next=5,k(1,R);case 5:0===(n=e.sent).length?(console.log("1.1 -getMovies  "),w(!0)):(console.log("1.2 -getMovies  "),c(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),u.ZP.error(e.t0);case 12:return e.prev=12,x(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),[x,w,c,R]);return(0,l.useEffect)((function(){J()}),[J]),(0,P.jsxs)(P.Fragment,{children:[h&&(0,P.jsx)(C.a,{}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("label",{children:["Make:",(0,P.jsxs)("select",{value:R.make,onChange:function(e){return O((function(n){return(0,r.Z)((0,r.Z)({},n),{},{make:e.target.value})}))},children:['console.log("make", make);',(0,P.jsx)("option",{value:"",children:"Select Make"}),q.map((function(e){return(0,P.jsx)("option",{value:e,children:e},e)}))]})]}),(0,P.jsxs)("label",{children:["Price:",(0,P.jsx)("input",{type:"text",value:R.price,onChange:function(e){return O((function(n){return(0,r.Z)((0,r.Z)({},n),{},{price:e.target.value})}))}})]}),(0,P.jsxs)("label",{children:["Min Mileage:",(0,P.jsx)("input",{type:"number",value:R.minMileage,onChange:function(e){return O((function(n){return(0,r.Z)((0,r.Z)({},n),{},{minMileage:e.target.value})}))}})]}),(0,P.jsxs)("label",{children:["Max Mileage:",(0,P.jsx)("input",{type:"number",value:R.maxMileage,onChange:function(e){return O((function(n){return(0,r.Z)((0,r.Z)({},n),{},{maxMileage:e.target.value})}))}})]}),(0,P.jsx)("button",{onClick:G,children:"Search"})]}),(0,P.jsx)(y,{items:t,openModal:function(e){z(!0),F(e)}}),!j&&(0,P.jsx)("button",{onClick:B,children:"Load More"}),j&&(0,P.jsx)("p",{children:"This is the entire catalog."}),_&&(0,P.jsx)(H,{item:t[D],closeModal:function(){z(!1),F(null)}}),(0,P.jsx)(u.x7,{position:"bottom-center",reverseOrder:!0})]})}}}]);
//# sourceMappingURL=327.e9b24e4b.chunk.js.map