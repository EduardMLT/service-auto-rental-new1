"use strict";(self.webpackChunkservice_auto_rental_new1=self.webpackChunkservice_auto_rental_new1||[]).push([[327],{327:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(433),i=t(861),a=t(413),o=t(439),c=t(687),l=t.n(c),s=t(791),u=t(218),p=t(548),f=t(294);f.Z.defaults.baseURL="https://6574665df941bda3f2afb2f5.mockapi.io/api/v1/";var d,h,x,m,g,v,b,Z=function(){var e=(0,i.Z)(l().mark((function e(){var n,t,r,i,a,o,c,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:1,t=s.length>1?s[1]:void 0,e.prev=2,e.next=5,f.Z.get("/data-auto");case 5:return r=e.sent,console.log("fetchHome - filters",t),i=r.data,console.log("fetchHome - filteredCars",i),""!==t.make&&(console.log("fetchHome - filters.make",t.make),i=i.filter((function(e){return e.make===t.make})),console.log("fetchHome - filteredCars",i)),""!==t.price&&(i=i.filter((function(e){return parseInt(e.rentalPrice.replace(/\D/g,""),10)<=t.price}))),null!==t.minMileage&&(i=i.filter((function(e){return Number(e.mileage)>=Number(t.minMileage)}))),null!==t.maxMileage&&(i=i.filter((function(e){return Number(e.mileage)<=Number(t.maxMileage)}))),a=(n-1)*t.perPage,o=a+t.perPage,c=i.slice(a,o),console.log("fetchHome - currentItems",c),e.abrupt("return",c);case 20:throw e.prev=20,e.t0=e.catch(2),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445:",e.t0),e.t0;case 24:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(){return e.apply(this,arguments)}}(),j=t(168),k=t(924),M=k.ZP.ul(d||(d=(0,j.Z)([" \n  display: flex;\n  align-items: center;\n  justify-content: center;\n  column-gap: 29px;\n  row-gap: 50px;\n  flex-wrap: wrap;\n  margin: 50px 0 100px;\n"]))),w=k.ZP.li(h||(h=(0,j.Z)(["\n  display: block;\n  padding: 10px, 15px;\n  font-family: Roboto sans-serif;\n  font-size: 22px;\n  font-weight: 700;\n  color: rgb(106 162 144);\n"]))),y=k.ZP.span(x||(x=(0,j.Z)(["\n  color: var(--pr-button-background-color);\n  font-size: 16px;\n\n  &:hover,\n  :focus {\n    color: var(--hovered-button-background-color);\n  }\n"]))),P=t(184),C=function(e){var n=e.items,t=e.openModal;return(0,P.jsxs)(M,{children:[console.log("HomeList",{items:n}),n.map((function(e,n){var r=e.id,i=e.make,a=e.model,o=e.img;return(0,P.jsx)(w,{children:(0,P.jsxs)("div",{onClick:function(){return t(n)},children:[(0,P.jsxs)(y,{children:[i," ",a]}),(0,P.jsx)("div",{children:(0,P.jsx)("img",{src:o,width:"200",height:"250",alt:"car"})}),(0,P.jsxs)(y,{children:[i," ",a]})]})},r)}))]})},S=t(554),H=k.ZP.div(m||(m=(0,j.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n"]))),L=k.ZP.div(g||(g=(0,j.Z)(["\n  background: #fff;\n  padding: 20px;\n  border-radius: 8px;\n  position: relative;\n  z-index: 1001;\n  max-width: 900px;\n  width: 100%;\n  text-align: center;\n\n  img {\n    max-width: 100%;\n    max-height: 100%;\n    object-fit: contain;\n  }\n"]))),z=k.ZP.span(v||(v=(0,j.Z)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  cursor: pointer;\n  font-size: 20px;\n  color: #333;\n"]))),B=k.ZP.img(b||(b=(0,j.Z)(["\n  max-width: 100%;\n  max-height: 100%;\n  object-fit: contain;\n  width: 600px;\n  height: 400px;\n  margin: auto;\n  display: block;\n"]))),I=function(e){var n=e.item,t=e.closeModal;return(0,s.useEffect)((function(){var e;e=n.img,(new Image).src=e}),[n.img]),(0,P.jsx)(H,{children:(0,P.jsxs)(L,{children:[(0,P.jsx)(z,{onClick:t,children:"\xd7"}),(0,P.jsxs)("h2",{children:[n.make," ",n.model]}),(0,P.jsx)(B,{src:n.img,alt:"car"}),(0,P.jsxs)("p",{children:["Description: ",n.description]})]})})},N=function(){var e=(0,s.useState)([]),n=(0,o.Z)(e,2),t=n[0],c=n[1],f=(0,s.useState)(!1),d=(0,o.Z)(f,2),h=d[0],x=d[1],m=(0,s.useState)(1),g=(0,o.Z)(m,2),v=g[0],b=g[1],j=(0,s.useState)(!1),k=(0,o.Z)(j,2),M=k[0],w=k[1],y=(0,s.useState)(!1),H=(0,o.Z)(y,2),L=H[0],z=H[1],B=(0,s.useState)(null),N=(0,o.Z)(B,2),_=N[0],R=N[1],E=(0,s.useState)({make:"",price:"",minMileage:null,maxMileage:null,perPage:12}),F=(0,o.Z)(E,2),A=F[0],D=F[1],U=(0,s.useState)(""),G=(0,o.Z)(U,2),K=G[0],O=G[1],T=(0,s.useState)(["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Kia","Land Rover"]),V=(0,o.Z)(T,1)[0],W=(0,s.useState)(null),$=(0,o.Z)(W,2),q=$[0],J=$[1],Q=function(e){return e.map((function(e){return{value:e,label:e}}))},X=function(){var e=(0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,Z(v+1,A);case 4:0===(n=e.sent).length?w(!0):(c((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))})),b((function(e){return e+1}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u.ZP.error(e.t0);case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,Z(1,A);case 4:n=e.sent,console.log("CatalogPage - applyFilters ",{filteredItems:n}),c(n),b(1),w(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),u.ZP.error(e.t0);case 14:return e.prev=14,x(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){var e=function(){var e=(0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,Z(1,A);case 4:n=e.sent,c(n),b(1),w(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),u.ZP.error(e.t0);case 13:return e.prev=13,x(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[A]),(0,P.jsxs)(P.Fragment,{children:[h&&(0,P.jsx)(S.a,{}),(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{children:(0,P.jsxs)("label",{htmlFor:"makeSelect",children:["Car Brand:",(0,P.jsx)(p.ZP,{id:"makeSelect",options:Q(V),value:Q(V).find((function(e){return e.value===q})),onChange:function(e){J(e?e.value:null),D((function(n){return(0,a.Z)((0,a.Z)({},n),{},{make:e?e.value:""})})),c([])},isClearable:!0,isSearchable:!0,placeholder:"Select Car Brand"})]})}),(0,P.jsxs)("label",{children:["Price:",(0,P.jsx)("input",{type:"text",value:A.price,onChange:function(e){return D((function(n){return(0,a.Z)((0,a.Z)({},n),{},{price:e.target.value})}))}})]}),(0,P.jsxs)("label",{children:["Min Mileage:",(0,P.jsx)("input",{type:"number",value:A.minMileage,onChange:function(e){var n=e.target.value;/^\d*$/.test(n)?(O(""),D((function(e){return(0,a.Z)((0,a.Z)({},e),{},{minMileage:n})}))):O("Please enter a valid number")},min:"0",max:"9999"}),K&&(0,P.jsx)("div",{style:{color:"red"},children:K})]}),K&&(0,P.jsx)("div",{style:{color:"red"},children:K}),(0,P.jsxs)("label",{children:["Max Mileage:",(0,P.jsx)("input",{type:"number",value:A.maxMileage,onChange:function(e){return D((function(n){return(0,a.Z)((0,a.Z)({},n),{},{maxMileage:e.target.value})}))},pattern:"[0-9]*",maxLength:"4"})]}),(0,P.jsx)("button",{onClick:Y,children:"Search"})]}),(0,P.jsx)(C,{items:t,openModal:function(e){z(!0),R(e)}}),!M&&(0,P.jsx)("button",{onClick:X,children:"Load More"}),M&&(0,P.jsx)("p",{children:"This is the entire catalog."}),L&&(0,P.jsx)(I,{item:t[_],closeModal:function(){z(!1),R(null)}}),(0,P.jsx)(u.x7,{position:"bottom-center",reverseOrder:!0})]})}}}]);
//# sourceMappingURL=327.36aa8206.chunk.js.map