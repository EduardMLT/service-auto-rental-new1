"use strict";(self.webpackChunkservice_auto_rental_new1=self.webpackChunkservice_auto_rental_new1||[]).push([[947],{2947:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r,a,i,l,u=t(3433),s=t(5861),c=t(4942),o=t(1413),f=t(9439),d=t(4687),p=t.n(d),v=t(2791),x=t(5218),h=t(2548),g=t(1687),m=t(6549),Z=t(3554),M=t(2373),b=t(168),j=t(7924),k=j.ZP.div(r||(r=(0,b.Z)(["\n  display: flex;\n"]))),S=j.ZP.div(a||(a=(0,b.Z)(["\n  width: 224px;\n  height:48px;\n"]))),C=j.ZP.div(i||(i=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),y=j.ZP.button(l||(l=(0,b.Z)(["\n  font-family: var(--font-family);\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 150%;\n  text-decoration: underline;\n  text-decoration-skip-ink: none;\n  color: #3470ff;  \n\n  &:hover {\n    color: #0b44cd;\n  }\n"]))),P=t(184),w=function(e){var n=e.favorites,t=e.setFavorites,r=(0,v.useState)([]),a=(0,f.Z)(r,2),i=a[0],l=a[1],d=(0,v.useState)(!1),b=(0,f.Z)(d,2),j=b[0],w=b[1],B=(0,v.useState)(1),I=(0,f.Z)(B,2),F=I[0],L=I[1],_=(0,v.useState)(!1),E=(0,f.Z)(_,2),N=E[0],X=E[1],z=(0,v.useState)(!1),A=(0,f.Z)(z,2),H=A[0],O=A[1],R=(0,v.useState)(null),G=(0,f.Z)(R,2),J=G[0],K=G[1],T=(0,v.useState)({id:"",make:"",price:"",minMileage:null,maxMileage:null,perPage:12}),U=(0,f.Z)(T,2),V=U[0],W=U[1],$=(0,v.useState)(""),q=(0,f.Z)($,2),D=q[0],Q=q[1],Y=(0,v.useState)(["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Kia","Land Rover"]),ee=(0,f.Z)(Y,1)[0];(0,v.useEffect)((function(){var e=JSON.parse(localStorage.getItem("favorites"))||[];t(e)}),[t]);var ne=(0,v.useState)(null),te=(0,f.Z)(ne,2),re=te[0],ae=te[1],ie=function(e){return e.map((function(e){return{value:e,label:e}}))},le=function(e){var n=e.target,t=n.name,r=n.value;!/^\d*$/.test(r)||r.length>4?Q("Please enter a valid number (up to 4 digits)"):(Q(""),W((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,c.Z)({},t,r))})))},ue=function(e){var n=e.target,t=n.name;""===n.value&&se(t)},se=function(e){W("minMileage"===e||"maxMileage"===e?function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,c.Z)({},e,null))}:function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,c.Z)({},e,""))})},ce=function(){var e=(0,s.Z)(p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=16;break}return w(!0),e.prev=2,e.next=5,(0,g.X)(F+1,V);case 5:n=e.sent,console.log({page:F},{nextPageItems:n}),0===n.length?X(!0):(l((function(e){return[].concat((0,u.Z)(e),(0,u.Z)(n))})),L((function(e){return e+1}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),x.ZP.error(e.t0);case 13:return e.prev=13,w(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),oe=(0,v.useCallback)((0,s.Z)(p().mark((function e(){var n,t,r,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,n=""!==V.minMileage&&null!==V.minMileage?parseInt(V.minMileage):null,t=""!==V.maxMileage&&null!==V.maxMileage?parseInt(V.maxMileage):null,r=(0,o.Z)((0,o.Z)({},V),{},{minMileage:n,maxMileage:t}),e.next=7,(0,g.X)(1,r);case 7:a=e.sent,console.log("CatalogPage - applyFilters ",{filteredItems:a}),l(a),L(1),X(!1),console.log("CatalogPage - 2 - applyFilters ",{filteredItems:a}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),x.ZP.error(e.t0);case 18:return e.prev=18,w(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,15,18,21]])}))),[V]);return(0,v.useEffect)((function(){oe()}),[V,oe]),(0,v.useEffect)((function(){var e=function(){var e=(0,s.Z)(p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,(0,g.X)(1,V);case 4:n=e.sent,l(n),L(1),X(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),x.ZP.error(e.t0);case 13:return e.prev=13,w(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[V]),(0,P.jsxs)(P.Fragment,{children:[j&&(0,P.jsx)(Z.a,{}),(0,P.jsxs)(k,{children:[(0,P.jsx)(S,{children:(0,P.jsxs)("label",{htmlFor:"makeSelect",children:["Car Brand:",(0,P.jsx)(h.ZP,{id:"makeSelect",options:ie(ee),value:ie(ee).find((function(e){return e.value===re})),onChange:function(e){ae(e?e.value:null),W((function(n){return(0,o.Z)((0,o.Z)({},n),{},{make:e?e.value:""})})),l([])},isClearable:!0,isSearchable:!0,placeholder:"Select Car Brand"})]})}),(0,P.jsx)("div",{children:(0,P.jsxs)("label",{children:["Price:",(0,P.jsx)("input",{type:"text",value:V.price,onChange:function(e){return W((function(n){return(0,o.Z)((0,o.Z)({},n),{},{price:e.target.value})}))},onBlur:ue})]})}),(0,P.jsx)("div",{children:(0,P.jsxs)("label",{children:["Min Mileage:",(0,P.jsx)("input",{type:"number",name:"minMileage",value:V.minMileage,onChange:le,onBlur:ue,pattern:"[0-9]*",maxLength:"4"}),D&&(0,P.jsx)("div",{style:{color:"red"},children:D})]})}),(0,P.jsx)("div",{children:(0,P.jsxs)("label",{children:["Max Mileage:",(0,P.jsx)("input",{type:"number",name:"maxMileage",value:V.maxMileage,onChange:le,onBlur:ue,pattern:"[0-9]*",maxLength:"4"}),D&&(0,P.jsx)("div",{style:{color:"red"},children:D})]})}),(0,P.jsx)("button",{onClick:oe,children:"Search"})]}),(0,P.jsxs)(C,{children:[(0,P.jsx)(m.v,{items:i,openModal:function(e){O(!0),K(e)},favorites:n,setFavorites:t}),!N&&(0,P.jsx)(y,{onClick:ce,children:"Load More"}),N&&(0,P.jsx)("p",{children:"This is the entire catalog."}),H&&(0,P.jsx)(M.Z,{item:i[J],closeModal:function(){O(!1),K(null)}}),(0,P.jsx)(x.x7,{position:"bottom-center",reverseOrder:!0})]})]})}}}]);
//# sourceMappingURL=947.0461e7ef.chunk.js.map