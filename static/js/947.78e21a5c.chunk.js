"use strict";(self.webpackChunkservice_auto_rental_new1=self.webpackChunkservice_auto_rental_new1||[]).push([[947],{2947:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r,a,i,l,o,s,u,c,p,d,x,h=t(3433),f=t(5861),g=t(4942),m=t(1413),v=t(9439),Z=t(4687),b=t.n(Z),M=t(2791),k=t(5218),j=t(2548),P=t(1687),y=t(6549),S=t(3554),w=t(2373),C=t(168),B=t(7924),F=B.ZP.div(r||(r=(0,C.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),I=B.ZP.div(a||(a=(0,C.Z)(["\n  width: 224px;\n  height: 48px;\n  border-radius: 14px;\n"]))),L=B.ZP.div(i||(i=(0,C.Z)(["\n  margin-right: 18px;\n  margin-left: 18px;\n"]))),_=B.ZP.label(l||(l=(0,C.Z)(["\n  display: block;\n  height: 74px;  \n"]))),E=B.ZP.input(o||(o=(0,C.Z)(["\n  display: block;\n  width: 125px;\n  height: 48px;\n  border-radius: 14px;\n"]))),z=B.ZP.label(s||(s=(0,C.Z)(["\n  display: block;  \n  height: 74px;\n"]))),N=B.ZP.input(u||(u=(0,C.Z)(["\n  display: block;\n  width: 160px;\n  height: 48px;\n  border-radius: 14px 0 0 14px;\n"]))),X=B.ZP.input(c||(c=(0,C.Z)(["\n  display: block;\n  width: 160px;\n  height: 48px;\n  border-radius: 0 14px  14px 0;\n"]))),A=B.ZP.button(p||(p=(0,C.Z)(["\n  width: 136px;\n  height: 48px;\n  border-radius: 12px;\n  padding: 14px 44px;\n  background: #3470ff;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 143%;\n  color: #fff;\n  margin-top: 18px;  \n  margin-left: 18px;\n\n  &:hover {\n    background: #0b44cd;\n  }\n"]))),H=B.ZP.div(d||(d=(0,C.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),O=B.ZP.button(x||(x=(0,C.Z)(["\n  font-family: var(--font-family);\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 150%;\n  text-decoration: underline;\n  text-decoration-skip-ink: none;\n  color: #3470ff;  \n\n  &:hover {\n    color: #0b44cd;\n  }\n"]))),R=t(184),G=function(e){var n=e.favorites,t=e.setFavorites,r=(0,M.useState)([]),a=(0,v.Z)(r,2),i=a[0],l=a[1],o=(0,M.useState)(!1),s=(0,v.Z)(o,2),u=s[0],c=s[1],p=(0,M.useState)(1),d=(0,v.Z)(p,2),x=d[0],Z=d[1],C=(0,M.useState)(!1),B=(0,v.Z)(C,2),G=B[0],J=B[1],K=(0,M.useState)(!1),T=(0,v.Z)(K,2),U=T[0],V=T[1],W=(0,M.useState)(null),$=(0,v.Z)(W,2),q=$[0],D=$[1],Q=(0,M.useState)({id:"",make:"",price:"",minMileage:null,maxMileage:null,perPage:12}),Y=(0,v.Z)(Q,2),ee=Y[0],ne=Y[1],te=(0,M.useState)(""),re=(0,v.Z)(te,2),ae=re[0],ie=re[1],le=(0,M.useState)(["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Kia","Land Rover"]),oe=(0,v.Z)(le,1)[0];(0,M.useEffect)((function(){var e=JSON.parse(localStorage.getItem("favorites"))||[];t(e)}),[t]);var se=(0,M.useState)(null),ue=(0,v.Z)(se,2),ce=ue[0],pe=ue[1],de=function(e){return e.map((function(e){return{value:e,label:e}}))},xe=function(e){var n=e.target,t=n.name,r=n.value;!/^\d*$/.test(r)||r.length>4?ie("Please enter a valid number (up to 4 digits)"):(ie(""),ne((function(e){return(0,m.Z)((0,m.Z)({},e),{},(0,g.Z)({},t,r))})))},he=function(e){var n=e.target,t=n.name;""===n.value&&fe(t)},fe=function(e){ne("minMileage"===e||"maxMileage"===e?function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,g.Z)({},e,null))}:function(n){return(0,m.Z)((0,m.Z)({},n),{},(0,g.Z)({},e,""))})},ge=function(){var e=(0,f.Z)(b().mark((function e(){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G){e.next=16;break}return c(!0),e.prev=2,e.next=5,(0,P.X)(x+1,ee);case 5:n=e.sent,console.log({page:x},{nextPageItems:n}),0===n.length?J(!0):(l((function(e){return[].concat((0,h.Z)(e),(0,h.Z)(n))})),Z((function(e){return e+1}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),k.ZP.error(e.t0);case 13:return e.prev=13,c(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),me=(0,M.useCallback)((0,f.Z)(b().mark((function e(){var n,t,r,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,n=""!==ee.minMileage&&null!==ee.minMileage?parseInt(ee.minMileage):null,t=""!==ee.maxMileage&&null!==ee.maxMileage?parseInt(ee.maxMileage):null,r=(0,m.Z)((0,m.Z)({},ee),{},{minMileage:n,maxMileage:t}),e.next=7,(0,P.X)(1,r);case 7:a=e.sent,console.log("CatalogPage - applyFilters ",{filteredItems:a}),l(a),Z(1),J(!1),console.log("CatalogPage - 2 - applyFilters ",{filteredItems:a}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),k.ZP.error(e.t0);case 18:return e.prev=18,c(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,15,18,21]])}))),[ee]);return(0,M.useEffect)((function(){me()}),[ee,me]),(0,M.useEffect)((function(){var e=function(){var e=(0,f.Z)(b().mark((function e(){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,(0,P.X)(1,ee);case 4:n=e.sent,l(n),Z(1),J(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),k.ZP.error(e.t0);case 13:return e.prev=13,c(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[ee]),(0,R.jsxs)(R.Fragment,{children:[u&&(0,R.jsx)(S.a,{}),(0,R.jsxs)(F,{children:[(0,R.jsx)(I,{children:(0,R.jsxs)("label",{htmlFor:"makeSelect",children:["Car Brand:",(0,R.jsx)(j.ZP,{id:"makeSelect",options:de(oe),value:de(oe).find((function(e){return e.value===ce})),onChange:function(e){pe(e?e.value:null),ne((function(n){return(0,m.Z)((0,m.Z)({},n),{},{make:e?e.value:""})})),l([])},isClearable:!0,isSearchable:!0,placeholder:"Select Car Brand"})]})}),(0,R.jsx)(L,{children:(0,R.jsxs)(_,{htmlFor:"price",children:["Price:",(0,R.jsx)(E,{type:"text",id:"price",name:"price",value:ee.price,onChange:function(e){return ne((function(n){return(0,m.Z)((0,m.Z)({},n),{},{price:e.target.value})}))},onBlur:he})]})}),(0,R.jsx)("div",{children:(0,R.jsxs)(z,{htmlFor:"minMileage",children:["Min Mileage:",(0,R.jsx)(N,{type:"number",id:"minMileage",name:"minMileage",value:ee.minMileage,onChange:xe,onBlur:he,pattern:"[0-9]*",maxLength:"4"}),ae&&(0,R.jsx)("div",{style:{color:"red"},children:ae})]})}),(0,R.jsx)("div",{children:(0,R.jsxs)(z,{htmlFor:"maxMileage",children:["Max Mileage:",(0,R.jsx)(X,{type:"number",id:"maxMileage",name:"maxMileage",value:ee.maxMileage,onChange:xe,onBlur:he,pattern:"[0-9]*",maxLength:"4"}),ae&&(0,R.jsx)("div",{style:{color:"red"},children:ae})]})}),(0,R.jsx)(A,{onClick:me,children:"Search"})]}),(0,R.jsxs)(H,{children:[(0,R.jsx)(y.v,{items:i,openModal:function(e){V(!0),D(e)},favorites:n,setFavorites:t}),!G&&(0,R.jsx)(O,{onClick:ge,children:"Load More"}),G&&(0,R.jsx)("p",{children:"This is the entire catalog."}),U&&(0,R.jsx)(w.Z,{item:i[q],closeModal:function(){V(!1),D(null)}}),(0,R.jsx)(k.x7,{position:"bottom-center",reverseOrder:!0})]})]})}}}]);
//# sourceMappingURL=947.78e21a5c.chunk.js.map