{"version":3,"file":"static/js/668.9fef085d.chunk.js","mappings":"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","sources":["components/pages/FavoritesPage/FavoritesPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Toaster } from 'react-hot-toast';\nimport { HomeList } from '../CatalogPage/CatalogPageList';\nimport { Loader } from '../../LoaderSpinner/LoaderSpinner';\nimport Modal from '../../Modal/Modal';\nimport { fetchHome } from '../../../api';\n\nconst FavoritesPage = ({ favorites, setFavorites }) => {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [selectedItemIndex, setSelectedItemIndex] = useState(null);\n  const [loader, setLoader] = useState(true);\n  const [favoriteCars, setFavoriteCars] = useState([]); \n\n  const [filters] = useState({\n    id: '',\n    make: '',\n    price: '',\n    minMileage: null,\n    maxMileage: null,\n    perPage: 32,\n  });\n\n  console.log('1- ', { favorites });\n\n  \n\n  useEffect(() => {\n    const storedFavorites = JSON.parse(localStorage.getItem('favorites')) || [];\n    setFavorites(storedFavorites);\n  }, [setFavorites]);\n\n  useEffect(() => {\n    const fetchFavoriteCars = async () => {\n      try {\n        const fetchedCars = await Promise.all(\n          favorites.map(async id => {\n            const carData = await fetchHomeById(id);\n            console.log('2- ', { carData });\n            return carData;\n          })\n        );\n        setFavoriteCars(fetchedCars);\n        setLoader(false);\n      } catch (error) {\n        console.error('Помилка при отриманні даних про улюблені авто:', error);\n        setLoader(false);\n      }\n    };\n\n    fetchFavoriteCars();\n    // eslint-disable-next-line\n  }, [favorites]);\n  \n  const fetchHomeById = async id => {\n    try {\n      console.log('3- ', id);\n      const response = await fetchHome(1, filters);\n      console.log('4- ', { response });\n      const carData = response.find(car => car.id === id);\n      console.log('5- ', { carData });\n      return carData;\n    } catch (error) {\n      console.error('Помилка при отриманні даних про авто:', error);\n      throw error;\n    }\n  };\n  \n  const openModal = index => {\n    setModalVisible(true);\n    setSelectedItemIndex(index);\n  };\n\n  const closeModal = () => {\n    setModalVisible(false);\n    setSelectedItemIndex(null);\n  };\n\n  return (\n    <div>\n      {loader && <Loader />}\n      \n      {console.log({ favoriteCars })}\n      {favoriteCars.length > 0 ? (\n        <div>         \n\n          <HomeList\n            items={favoriteCars}\n            openModal={openModal}\n            favorites={favorites}\n            setFavorites={setFavorites}\n          />\n\n          {modalVisible && (\n            <Modal\n              item={favoriteCars[selectedItemIndex]} \n              closeModal={closeModal}\n            />\n          )}\n          <Toaster position=\"bottom-center\" reverseOrder={true} />\n        </div>\n      ) : (\n        <p>No favorite items found</p>\n      )}\n    </div>\n  );\n};\n\nexport default FavoritesPage;\n"],"names":["_ref","favorites","setFavorites","_useState","useState","_useState2","_slicedToArray","modalVisible","setModalVisible","_useState3","_useState4","selectedItemIndex","setSelectedItemIndex","_useState5","_useState6","loader","setLoader","_useState7","_useState8","favoriteCars","setFavoriteCars","_useState9","id","make","price","minMileage","maxMileage","perPage","filters","console","log","useEffect","storedFavorites","JSON","parse","localStorage","getItem","fetchFavoriteCars","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee2","fetchedCars","_context2","prev","next","Promise","all","map","_ref3","_callee","carData","_context","fetchHomeById","sent","abrupt","stop","_x","apply","arguments","t0","error","_ref4","_callee3","response","_context3","fetchHome","find","car","_x2","_jsxs","children","_jsx","Loader","length","HomeList","items","openModal","index","Modal","item","closeModal","Toaster","position","reverseOrder"],"sourceRoot":""}