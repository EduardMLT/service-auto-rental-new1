{"version":3,"file":"static/js/947.e86781a5.chunk.js","mappings":"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","sources":["components/pages/CatalogPage/CatalogPage.styled.js","components/pages/CatalogPage/CatalogPage.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const CatalogPageButton = styled.button`\n  font-family: var(--font-family);\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 150%;\n  text-decoration: underline;\n  text-decoration-skip-ink: none;\n  color: #3470ff;  \n\n  &:hover {\n    color: #0b44cd;\n  }\n`;","import React, { useEffect, useState } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport Select from 'react-select';\nimport { fetchHome } from '../../../api';\nimport { HomeList } from './CatalogPageList';\nimport { Loader } from '../../LoaderSpinner/LoaderSpinner';\nimport { GlobalStyle } from '../../GlobalStyle';\nimport Modal from '../../../components/Modal/Modal';\n\nimport { Container, CatalogPageButton } from './CatalogPage.styled';\n\nconst CatalogPage = ({ favorites, setFavorites }) => {  \n\n  const [trends, setTrends] = useState([]);\n  const [loader, setLoader] = useState(false);\n  const [page, setPage] = useState(1);\n  const [isLastPage, setIsLastPage] = useState(false);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [selectedItemIndex, setSelectedItemIndex] = useState(null);\n  const [filters, setFilters] = useState({\n    id: '',\n    make: '',\n    price: '',\n    minMileage: null,\n    maxMileage: null,\n    perPage: 12,\n  });\n\n  const [error, setError] = useState('');\n\n  const [makesArray] = useState([\n    'Buick',\n    'Volvo',\n    'HUMMER',\n    'Subaru',\n    'Mitsubishi',\n    'Nissan',\n    'Lincoln',\n    'GMC',\n    'Hyundai',\n    'MINI',\n    'Bentley',\n    'Mercedes-Benz',\n    'Aston Martin',\n    'Pontiac',\n    'Lamborghini',\n    'Audi',\n    'BMW',\n    'Chevrolet',\n    'Kia',\n    'Land Rover',\n  ]);\n\n  useEffect(() => {\n    const storedFavorites = JSON.parse(localStorage.getItem('favorites')) || [];\n    setFavorites(storedFavorites);\n  }, [setFavorites]);\n\n  const [selectedMake, setSelectedMake] = useState(null);\n\n  const formattedOptions = makesArray => {\n    return makesArray.map(make => ({ value: make, label: make }));\n  };\n\n  const handleMakeChange = selectedOption => {\n    setSelectedMake(selectedOption ? selectedOption.value : null);\n    setFilters(prevFilters => ({\n      ...prevFilters,\n      make: selectedOption ? selectedOption.value : '',\n    }));\n    setTrends([]);\n  };\n\n  const handleChange = e => {\n    const value = e.target.value;\n    if (!/^\\d*$/.test(value)) {\n      setError('Please enter a valid number');\n    } else {\n      setError('');\n      setFilters(prevFilters => ({\n        ...prevFilters,\n        minMileage: value,\n      }));\n    }\n  };\n\n  const openModal = index => {\n    setModalVisible(true);\n    setSelectedItemIndex(index);\n  };\n\n  const closeModal = () => {\n    setModalVisible(false);\n    setSelectedItemIndex(null);\n  };\n\n  const loadMore = async () => {\n    setLoader(true);\n    try {\n      const nextPageItems = await fetchHome(page + 1, filters);\n      if (nextPageItems.length === 0) {\n        setIsLastPage(true);\n      } else {\n        setTrends(prevItems => [...prevItems, ...nextPageItems]);\n        setPage(prevPage => prevPage + 1);\n      }\n    } catch (error) {\n      toast.error(error);\n    } finally {\n      setLoader(false);\n    }\n  };\n\n  const applyFilters = async () => {\n    setLoader(true);\n    try {\n      const filteredItems = await fetchHome(1, filters);\n      console.log('CatalogPage - applyFilters ', { filteredItems });\n      setTrends(filteredItems);\n      setPage(1);\n      setIsLastPage(false);\n    } catch (error) {\n      toast.error(error);\n    } finally {\n      setLoader(false);\n    }\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoader(true);\n      try {\n        const filteredItems = await fetchHome(1, filters);\n        setTrends(filteredItems);\n        setPage(1);\n        setIsLastPage(false);\n      } catch (error) {\n        toast.error(error);\n      } finally {\n        setLoader(false);\n      }\n    };\n\n    fetchData();\n  }, [filters]);\n\n  return (\n    <>\n      <div>\n        <GlobalStyle />\n        {loader && <Loader />}\n\n        <div>\n          <div>\n            <label htmlFor=\"makeSelect\">\n              Car Brand:\n              <Select\n                id=\"makeSelect\"\n                options={formattedOptions(makesArray)}\n                value={formattedOptions(makesArray).find(\n                  option => option.value === selectedMake\n                )}\n                onChange={handleMakeChange}\n                isClearable={true}\n                isSearchable={true}\n                placeholder=\"Select Car Brand\"\n              />\n            </label>\n          </div>\n\n          <label>\n            Price:\n            <input\n              type=\"text\"\n              value={filters.price}\n              onChange={e =>\n                setFilters(prevFilters => ({\n                  ...prevFilters,\n                  price: e.target.value,\n                }))\n              }\n            />\n          </label>\n          <label>\n            Min Mileage:\n            <input\n              type=\"number\"\n              value={filters.minMileage}\n              onChange={handleChange}\n              min=\"0\"\n              max=\"9999\"\n            />\n            {error && <div style={{ color: 'red' }}>{error}</div>}\n          </label>\n          {error && <div style={{ color: 'red' }}>{error}</div>}\n          <label>\n            Max Mileage:\n            <input\n              type=\"number\"\n              value={filters.maxMileage}\n              onChange={e =>\n                setFilters(prevFilters => ({\n                  ...prevFilters,\n                  maxMileage: e.target.value,\n                }))\n              }\n              pattern=\"[0-9]*\"\n              maxLength=\"4\"\n            />\n          </label>\n          <button onClick={applyFilters}>Search</button>\n        </div>\n\n        <Container>\n          <HomeList\n            items={trends}\n            openModal={openModal}\n            favorites={favorites}\n            setFavorites={setFavorites}\n          />\n          {!isLastPage && (\n            <CatalogPageButton onClick={loadMore}>Load More</CatalogPageButton>\n          )}\n          {isLastPage && <p>This is the entire catalog.</p>}\n\n          {modalVisible && (\n            <Modal item={trends[selectedItemIndex]} closeModal={closeModal} />\n          )}\n          <Toaster position=\"bottom-center\" reverseOrder={true} />\n        </Container>\n      </div>\n    </>\n  );\n};\n\nexport default CatalogPage;"],"names":["Container","styled","_templateObject","_taggedTemplateLiteral","CatalogPageButton","_templateObject2","_ref","favorites","setFavorites","_useState","useState","_useState2","_slicedToArray","trends","setTrends","_useState3","_useState4","loader","setLoader","_useState5","_useState6","page","setPage","_useState7","_useState8","isLastPage","setIsLastPage","_useState9","_useState10","modalVisible","setModalVisible","_useState11","_useState12","selectedItemIndex","setSelectedItemIndex","_useState13","id","make","price","minMileage","maxMileage","perPage","_useState14","filters","setFilters","_useState15","_useState16","error","setError","_useState17","makesArray","useEffect","storedFavorites","JSON","parse","localStorage","getItem","_useState19","_useState20","selectedMake","setSelectedMake","formattedOptions","map","value","label","loadMore","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","nextPageItems","_context","prev","next","fetchHome","sent","length","prevItems","concat","_toConsumableArray","prevPage","t0","toast","finish","stop","apply","arguments","applyFilters","_ref3","_callee2","filteredItems","_context2","console","log","fetchData","_ref4","_callee3","_context3","_jsx","_Fragment","children","_jsxs","GlobalStyle","Loader","htmlFor","Select","options","find","option","onChange","selectedOption","prevFilters","_objectSpread","isClearable","isSearchable","placeholder","type","e","target","test","min","max","style","color","pattern","maxLength","onClick","HomeList","items","openModal","index","Modal","item","closeModal","Toaster","position","reverseOrder"],"sourceRoot":""}