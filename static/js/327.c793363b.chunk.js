"use strict";(self.webpackChunkservice_auto_rental_new1=self.webpackChunkservice_auto_rental_new1||[]).push([[327],{327:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var r=t(433),i=t(861),a=t(413),o=t(439),c=t(687),l=t.n(c),s=t(791),u=t(218),p=t(548),f=t(294);f.Z.defaults.baseURL="https://6574665df941bda3f2afb2f5.mockapi.io/api/v1/";var d,h,x,g,m,v,b,Z=function(){var e=(0,i.Z)(l().mark((function e(){var n,t,r,i,a,o,c,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:1,t=s.length>1?s[1]:void 0,e.prev=2,e.next=5,f.Z.get("/data-auto");case 5:return r=e.sent,console.log("fetchHome - filters",t),i=r.data,console.log("fetchHome - filteredCars",i),""!==t.make&&(console.log("fetchHome - filters.make",t.make),i=i.filter((function(e){return e.make===t.make})),console.log("fetchHome - filteredCars",i)),""!==t.price&&(i=i.filter((function(e){return parseInt(e.rentalPrice.replace(/\D/g,""),10)<=t.price}))),null!==t.minMileage&&(i=i.filter((function(e){return Number(e.mileage)>=Number(t.minMileage)}))),null!==t.maxMileage&&(i=i.filter((function(e){return Number(e.mileage)<=Number(t.maxMileage)}))),a=(n-1)*t.perPage,o=a+t.perPage,c=i.slice(a,o),e.abrupt("return",c);case 19:throw e.prev=19,e.t0=e.catch(2),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445:",e.t0),e.t0;case 23:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(){return e.apply(this,arguments)}}(),k=t(168),j=t(924),M=j.ZP.ul(d||(d=(0,k.Z)([" \n  display: flex;\n  align-items: center;\n  justify-content: center;\n  column-gap: 29px;\n  row-gap: 50px;\n  flex-wrap: wrap;\n  margin: 50px 0 100px;\n"]))),w=j.ZP.li(h||(h=(0,k.Z)(["\n  display: block;\n  padding: 10px, 15px;\n  font-family: Roboto sans-serif;\n  font-size: 22px;\n  font-weight: 700;\n  color: rgb(106 162 144);\n"]))),C=j.ZP.span(x||(x=(0,k.Z)(["\n  color: var(--pr-button-background-color);\n  font-size: 16px;\n\n  &:hover,\n  :focus {\n    color: var(--hovered-button-background-color);\n  }\n"]))),P=t(184),y=function(e){var n=e.items,t=e.openModal;return(0,P.jsx)(M,{children:n.map((function(e,n){var r=e.id,i=e.make,a=e.model,o=e.img;return(0,P.jsx)(w,{children:(0,P.jsxs)("div",{onClick:function(){return t(n)},children:[(0,P.jsxs)(C,{children:[i," ",a]}),(0,P.jsx)("div",{children:(0,P.jsx)("img",{src:o,width:"200",height:"250",alt:"car"})}),(0,P.jsxs)(C,{children:[i," ",a]})]})},r)}))})},S=t(554),z=j.ZP.div(g||(g=(0,k.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n"]))),B=j.ZP.div(m||(m=(0,k.Z)(["\n  background: #fff;\n  padding: 20px;\n  border-radius: 8px;\n  position: relative;\n  z-index: 1001;\n  max-width: 900px;\n  width: 100%;\n  text-align: center;\n\n  img {\n    max-width: 100%;\n    max-height: 100%;\n    object-fit: contain;\n  }\n"]))),H=j.ZP.span(v||(v=(0,k.Z)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  cursor: pointer;\n  font-size: 20px;\n  color: #333;\n"]))),N=j.ZP.img(b||(b=(0,k.Z)(["\n  max-width: 100%;\n  max-height: 100%;\n  object-fit: contain;\n  width: 600px;\n  height: 400px;\n  margin: auto;\n  display: block;\n"]))),_=function(e){var n=e.item,t=e.closeModal;return(0,s.useEffect)((function(){var e;e=n.img,(new Image).src=e}),[n.img]),(0,P.jsx)(z,{children:(0,P.jsxs)(B,{children:[(0,P.jsx)(H,{onClick:t,children:"\xd7"}),(0,P.jsxs)("h2",{children:[n.make," ",n.model]}),(0,P.jsx)(N,{src:n.img,alt:"car"}),(0,P.jsxs)("p",{children:["Description: ",n.description]})]})})},L=function(){var e=(0,s.useState)([]),n=(0,o.Z)(e,2),t=n[0],c=n[1],f=(0,s.useState)(!1),d=(0,o.Z)(f,2),h=d[0],x=d[1],g=(0,s.useState)(1),m=(0,o.Z)(g,2),v=m[0],b=m[1],k=(0,s.useState)(!1),j=(0,o.Z)(k,2),M=j[0],w=j[1],C=(0,s.useState)(!1),z=(0,o.Z)(C,2),B=z[0],H=z[1],N=(0,s.useState)(null),L=(0,o.Z)(N,2),I=L[0],E=L[1],R=(0,s.useState)({make:"",price:"",minMileage:null,maxMileage:null,perPage:12}),A=(0,o.Z)(R,2),D=A[0],F=A[1],U=(0,s.useState)(["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"]),G=(0,o.Z)(U,1)[0],K=(0,s.useState)(null),O=(0,o.Z)(K,2),T=O[0],V=O[1],W=function(e){return e.map((function(e){return{value:e,label:e}}))},q=function(){var e=(0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,Z(v+1,D);case 4:0===(n=e.sent).length?w(!0):(c((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))})),b((function(e){return e+1}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u.ZP.error(e.t0);case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,Z(1,D);case 4:n=e.sent,c(n),b(1),w(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),u.ZP.error(e.t0);case 13:return e.prev=13,x(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),Q=(0,s.useCallback)((0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,console.log("getMovies - filters ",{filters:D}),e.next=5,Z(1,D);case 5:0===(n=e.sent).length?(console.log("1.1 -getMovies  "),w(!0)):(console.log("1.2 -getMovies  "),c(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),u.ZP.error(e.t0);case 12:return e.prev=12,x(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),[x,w,c,D]);return(0,s.useEffect)((function(){Q()}),[Q]),(0,P.jsxs)(P.Fragment,{children:[h&&(0,P.jsx)(S.a,{}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{htmlFor:"makeSelect",children:"Car Brand:"}),(0,P.jsx)(p.ZP,{id:"makeSelect",options:W(G),value:W(G).find((function(e){return e.value===T})),onChange:function(e){console.log("Selected value:",e),V(e?e.value:null),F((function(n){return(0,a.Z)((0,a.Z)({},n),{},{make:e?e.value:""})}))},isClearable:!0,isSearchable:!0,placeholder:"Select Car Brand"})]}),console.log("make",D),(0,P.jsxs)("label",{children:["Price:",(0,P.jsx)("input",{type:"text",value:D.price,onChange:function(e){return F((function(n){return(0,a.Z)((0,a.Z)({},n),{},{price:e.target.value})}))}})]}),(0,P.jsxs)("label",{children:["Min Mileage:",(0,P.jsx)("input",{type:"number",value:D.minMileage,onChange:function(e){return F((function(n){return(0,a.Z)((0,a.Z)({},n),{},{minMileage:e.target.value})}))}})]}),(0,P.jsxs)("label",{children:["Max Mileage:",(0,P.jsx)("input",{type:"number",value:D.maxMileage,onChange:function(e){return F((function(n){return(0,a.Z)((0,a.Z)({},n),{},{maxMileage:e.target.value})}))}})]}),(0,P.jsx)("button",{onClick:J,children:"Search"})]}),(0,P.jsx)(y,{items:t,openModal:function(e){H(!0),E(e)}}),!M&&(0,P.jsx)("button",{onClick:q,children:"Load More"}),M&&(0,P.jsx)("p",{children:"This is the entire catalog."}),B&&(0,P.jsx)(_,{item:t[I],closeModal:function(){H(!1),E(null)}}),(0,P.jsx)(u.x7,{position:"bottom-center",reverseOrder:!0})]})}}}]);
//# sourceMappingURL=327.c793363b.chunk.js.map